<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <style>
        body { 
            color: var(--vscode-editor-foreground); 
            font-family: var(--vscode-font-family); 
            padding: 20px; 
        }
        .container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .card {
            background: var(--vscode-editor-background);
            border: 1px solid var(--vscode-panel-border);
            padding: 15px;
            border-radius: 6px;
        }
        h2 { margin-top: 0; color: var(--vscode-textLink-foreground); }
        .label { font-size: 0.85em; opacity: 0.7; margin-bottom: 4px; display: block; }
        .value { font-size: 1.2em; font-weight: bold; font-family: monospace; }
        .meta { font-size: 0.8em; margin-top: 10px; border-top: 1px solid var(--vscode-panel-border); padding-top: 10px; opacity: 0.5; }
    </style>
</head>
<body>
    <div class="container">
        <h2 id="ui-title">Carregando...</h2>
        
        <div class="card">
            <span class="label">Texto Original</span>
            <div class="value" id="original">...</div>
        </div>

        <div class="card" style="border-left: 4px solid var(--vscode-textLink-activeForeground);">
            <span class="label">Texto Processado (Invertido + Upper)</span>
            <div class="value" id="processed">...</div>
        </div>

        <div class="meta">
            Processado em: <span id="timestamp">-</span> | Tamanho: <span id="length">0</span> chars
        </div>
    </div>

    <script>
        window.addEventListener('message', event => {
            const { type, payload } = event.data;
            if (type === 'HYDRATE') {
                const { title, data } = payload;
                
                document.getElementById('ui-title').innerText = title;
                document.getElementById('original').innerText = data.original;
                document.getElementById('processed').innerText = data.processed;
                document.getElementById('length').innerText = data.length;
                document.getElementById('timestamp').innerText = new Date(data.processedAt).toLocaleTimeString();
            }
        });
    </script>
</body>
</html>